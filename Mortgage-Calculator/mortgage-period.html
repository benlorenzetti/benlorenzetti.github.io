<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8"/>
	<title>Refinance Period</title>
	<link rel="stylesheet" type="text/css" href="../Branding/home.css">
	<script data-ad-client="ca-pub-2647559998401134" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>

<body>
<div id="horizontal-div-containing-entire-page">
<header>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2647559998401134"
	     crossorigin="anonymous"></script>
	<!-- header-ad -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-2647559998401134"
	     data-ad-slot="2556218560"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
	     (adsbygoogle = window.adsbygoogle || []).push({});
	</script>
</header>
<aside>
<a href="../index.html"><img src="#" alt="snth.us"></a>
</aside>
<div id="vertical-div-containing-article-and-navigation">
<hr>
<article>
<h1>Refinance Tangent</h1>
<p> This is the seventh of a twelve-part series for
	<a href="index.html">comparing real estate to other investments</a>
	like stocks. This part focuses on how long a mortgage should be
	held before refinancing if all of the terms stay the same,
	interest, inflation, market valuation after inflation, etc.

</p>
<img src="property-projection-1.png" style="margin-left:50px;">
<p> We previously found the rate of
	<a href="./equity-buildup.html">equity buildup</a>
	<i>&sum;<sub>n</sub></i> in mortgages with monthly payment <i>p</i> and the
	<a href="./leveraged-performance.html">performance</a>
	<i>G<sub>n</sub></i> of real estate investments after <i>n</i> months,
	in terms of the
	<a href="#">mortgage months-to-value ratio</a>
	(<i>R<sub>N</sub></i>), inflation
	(<i>&pi;</i>) and an opportunity cost
	(<i>&omega;</i>) of other investments.
</p>
<math style="margin-left: 10%;">
  <msub><mi>G</mi><mi>n</mi></msub>
  <mo>=</mo>
  <mrow>
    <mfrac><mi>L</mi><msub><mi>R</mi><mi>N</mi></msub></mfrac>
    <mo>(</mo><mrow>
      <mrow>
        <mi>c</mi><mi>&omega;</mi>
				<mo>(</mo><mfrac>
					<mrow><msup><mi>&omega;</mi><mi>n</mi></msup><mo>-</mo><mn>1</mn></mrow>
					<mrow><mi>&omega;</mi><mo>-</mo><mn>1</mn></mrow>
				</mfrac><mo>)</mo>
      </mrow>
      <mo>-</mo>
			<mrow>
      	<mfrac><mi>&omega;</mi><mi>&pi;</mi></mfrac>
				<mo>(</mo><mrow>
					<mfrac>
						<mrow>
							<msup>
								<mrow>
									<mo>(</mo><mfrac><mi>&omega;</mi><mi>&pi;</mi></mfrac><mo>)</mo>
								</mrow>
								<mi>n</mi>
							</msup>
							<mo>-</mo><mn>1</mn>
						</mrow>
						<mrow>
							<mo>(</mo><mfrac><mi>&omega;</mi><mi>&pi;</mi></mfrac><mo>)</mo>
							<mo>-</mo><mn>1</mn>
						</mrow>
					</mrow><mo>)</mo>
				</mfrac>
			</mrow>
			<mo>+</mo>
			<mfrac><msub><mi>&sum;</mi><mi>n</mi></msub><mi>p</mi></mfrac>
			<mo>-</mo><mi>T</mi>
    </mrow><mo>)</mo>
  </mrow>
	<mspace width="2em"/><mtext>for</mtext><mspace width="1em"/>
	<mi>&omega;</mi><mo>&gt;</mo><mi>&pi;</mi><mo>&gt;</mo><mn>1</mn>
</math>
<p> where
  <math><mi>c</mi><mo>=</mo><mfrac><mi>q</mi><mi>p</mi></mfrac></math>
  is a cash-flow factor,
  <math><mi>T</mi><mo>=</mo>
    <mfrac><mrow><msub><mi>F</mi><mn>1</mn></msub>
      <mo>+</mo><msub><mi>F</mi><mn>2</mn></msub>
      </mrow>
      <mi>p</mi>
    </mfrac>
  </math> is time underwater and
  <math><mi>L</mi><mo>=</mo>
    <mfrac>
      <mrow><mi>p</mi><mo>&times;</mo><msub><mi>R</mi><mi>N</mi></msub></mrow>
      <mrow><msub><mi>E</mi><mn>0</mn></msub>
        <mo>+</mo><msub><mi>F</mi><mn>1</mn></msub></mrow>
    </mfrac>
  </math> is the effective leverage ratio.
</p>
<p> For example if <math><mi>G</mi><mo>=</mo><mn>0.1</mn></math>, this would
	be like saying your IRA is up 10% over <math><mi>n</mi></math> months.
	Like other lowercase/capital variables,
	we define <math><mi>g</mi><mo>=</mo><mn>1</mn><mo>+</mo><mi>G</mi></math>
	as the fractional performance of a real estate investment
	over <math><mi>n</mi></math> months.
	From this, the average fractional yield (<math><mi>y</mi></math>)
	is a geometric average, i.e. the <math><mi>n</mi></math>th root of
	<math><mi>g</mi></math>.
</p>
<math style="margin-left: 20%;">
	<mi>y</mi><mo>=</mo>
	<msup><mi>g</mi>
		<mrow><mn>1</mn><mo>/</mo><mi>n</mi></mrow>
	</msup><mo>=</mo>
	<msup><mi>g</mi><mi>h</mi></msup>
</math>
<p> When bought with debt, the yield of real estate investments
	depends on <math><mi>n</mi></math>,
	the number of months a mortgage is held before selling or
	refinancing. To optimize this we take the derivative of the fractional
	yield using partial derivatives and the chain rule.
</p>
<math style="margin-left: 20%;">
	<mrow>
		<mfrac><mrow><mo>d</mo><mi>y</mi></mrow>
			<mrow><mo>d</mo><mi>n</mi></mrow></mfrac>
		<mo>=</mo>
		<mfrac><mrow><mo>&part;</mo><mi>y</mi></mrow>
			<mrow><mo>&part;</mo><mi>g</mi></mrow></mfrac>
		<mo>&times;</mo>
		<mfrac><mrow><mo>d</mo><mi>g</mi></mrow>
			<mrow><mo>d</mo><mi>n</mi></mrow></mfrac>
		<mo>+</mo>
		<mfrac><mrow><mo>&part;</mo><mi>y</mi></mrow>
			<mrow><mo>&part;</mo><mi>h</mi></mrow></mfrac>
		<mo>&times;</mo>
		<mfrac><mrow><mo>d</mo><mi>h</mi></mrow>
			<mrow><mo>d</mo><mi>n</mi></mrow></mfrac>
	</mrow>
</math>
<br>
<math style="margin-left: 20%;">
	<mfrac><mrow><mo>d</mo><mi>y</mi></mrow>
		<mrow><mo>d</mo><mi>n</mi></mrow></mfrac>
	<mo>=</mo>
	<mrow>
		<mi>h</mi>
		<msup><mi>g</mi><mrow><mi>h</mi><mo>-</mo><mn>1</mn></mrow></msup>
		<mo>&times;</mo>
		<mfrac><mrow><mo>d</mo><mi>g</mi></mrow>
			<mrow><mo>d</mo><mi>n</mi></mrow></mfrac>
		<mo>+</mo>
		<apply><mo>ln</mo><mi>(g)</mi></apply>
		<msup><mi>g</mi><mfrac><mn>1</mn><mi>n</mi></mfrac></msup>
		<mo>&times;</mo>
		<mfrac><mrow><mo>-</mo><mn>1</mn></mrow>
			<msup><mi>n</mi><mn>2</mn></msup></mfrac>
	</mrow>
</math>
<br>
<math style="margin-left: 20%;">
	<mfrac><mrow><mo>d</mo><mi>y</mi></mrow>
		<mrow><mo>d</mo><mi>n</mi></mrow></mfrac>
	<mo>=</mo>
	<mrow>
		<mfrac>
			<msup><mi>g</mi><mrow><mn>1</mn><mo>/</mo><mi>n</mi></mrow></msup>
			<mi>n</mi>
		</mfrac>
		<mrow><mo>(</mo>
			<mfrac><mn>1</mn><mi>g</mi></mfrac>
			<mfrac><mrow><mo>d</mo><mi>g</mi></mrow>
				<mrow><mo>d</mo><mi>n</mi></mrow></mfrac>
			<mo>-</mo>
			<mfrac><apply><mo>ln</mo><mi>g</mi></apply><mi>n</mi></mfrac>
		<mo>)</mo></mrow>
	</mrow>
</math>
<p> Setting the derivative to zero and substituting for
	<math><mi>G</mi></math> gives our optimization equation for
	<math><mi>n</mi></math>, for
	<math><mi>n</mi><mo>&gt;</mo><mn>0</mn></math>.
</p>
<math style="margin-left: 20%;">
	<mi>n</mi>
	<mfrac><mrow><mo>d</mo><mi>G</mi></mrow>
		<mrow><mo>d</mo><mi>n</mi></mrow></mfrac>
	<mo>=</mo>
	<mo>(</mo><mi>G</mi><mo>+</mo><mn>1</mn><mo>)</mo>
	<apply><mo>ln</mo>
		<mrow><mo>(</mo><mi>G</mi><mo>+</mo><mn>1</mn><mo>)</mo></mrow>
	</apply>
</math>
<p> Next we define
	<math><mi>&Omega;</mi><mo>=</mo><mi>&omega;</mi><mo>-</mo><mn>1</mn></math>,
	<math><mi>&Pi;</mi><mo>=</mo><mi>&pi;</mi><mo>-</mo><mn>1</mn></math>,
	<math><mi>&rho;</mi><mo>=</mo><mi>&omega;</mi><mo>/</mo><mi>&pi;</mi></math>,
	and <math><mi>&Rho;</mi><mo>=</mo><mi>&rho;</mi><mo>-</mo><mn>1</mn></math>
	and make five assumptions to simplify the optimization function.
</p>
<ol>
	<li>Monthly opportunity cost yield is positive but significantly less than one
		and monthly inflation is positive but less than private opportunity cost.
		<br>
		<math style="margin-left: 20%;">
			<mn>0</mn><mo>&lt;</mo><mi>&Omega;</mi><mo>&Lt;</mo><mn>1</mn>
			<mspace width="1em"/><mtext>and</mtext><mspace width="1em"/>
			<mn>0</mn><mo>&lt;</mo><mi>&Pi;</mi><mo>&lt;</mo><mi>&Omega;</mi>
			<mspace width="1em"/><mo>&therefore;</mo><mspace width="1em"/>
			<mn>0</mn><mo>&lt;</mo><mi>R</mi><mo>&lt;</mo><mi>&Omega;</mi>
		</math>
		<br>
		This allows us to ignore the linear edge cases from the geometric series
		in the performance equation.
	</li>
	<li>Based on assumption (1), we make the algebra and computation simpler
		by taking Taylor Series expansions for ln(x) about x=1. Thus for &omega;,
		&pi;, and &rho; defined above in place of x,
		<br>
		<math style="margin-left: 20%;">
			<apply><mo>ln</mo><mi>x</mi></apply><mo>&asymp;</mo><mi>X</mi>
			<mspace width="1em"/><mo>where</mo><mspace width="1em"/>
			<mi>X</mi><mo>=</mo><mi>x</mi><mo>-</mo><mn>1</mn>
		</math>
	</li>
	<li>For
		<math><mo>ln</mo><mo>(</mo><mi>G</mi><mo>+</mo><mn>1</mn><mo>)</mo></math>,
		we assume it can be approximated by a first order Taylor Series
		about a performance of zero
		(<math><mi>G</mi><mo>&approx;</mo><mn>0</mn></math>).
		Thus the optimization function becomes:
		<br>
		<math style="margin-left: 20%;">
			<mi>n</mi>
			<mfrac><mrow><mo>d</mo><mi>G</mi></mrow>
				<mrow><mo>d</mo><mi>n</mi></mrow></mfrac>
			<mo>=</mo>
			<mo>(</mo><mi>G</mi><mo>+</mo><mn>1</mn><mo>)</mo><mi>G</mi>
		</math>
	</li>
	<li>The power functions that make up G can be approximated by first order
		Maclaurin series, and assumption (2) for the resulting logarithm
		can be reapplied:
		<br>
		<math style="margin-left: 20%;">
			<msup><mi>x</mi><mi>n</mi></msup><mo>&approx;</mo>
			<mn>1</mn><mo>+</mo>
			<mi>n</mi><apply><mo>ln</mo><mi>x</mi></apply><mo>&approx;</mo>
			<mn>1</mn><mo>+</mo><mi>X</mi><mi>n</mi>
		</math>
	</li>
	<li> We assume real interest rates are zero, thus
		<math><msub><mi>&Sigma;</mi><mi>n</mi></msub><mo>=</mo><mi>pn</mi></math>.
	</li>
</ol>
<p> Applying the above assumptions simplify the performance function to:
</p>
<math style="margin-left: 20%;">
	<msub><mi>G</mi><mi>n</mi></msub><mo>=</mo>
	<mfrac><mi>L</mi><msub><mi>R</mi><mi>N</mi></msub></mfrac>
	<mo>(</mo><mi>A</mi><mi>n</mi><mo>-</mo><mi>T</mi><mo>)</mo>
	<mspace width="1em"/><mtext>where</mtext><mspace width="1em"/>
	<mi>A</mi><mo>=</mo><mi>c</mi><mi>&omega;</mi><mo>+</mo><mn>1</mn><mo>-</mo><mi>&rho;</mi>
</math>
<p> Next we solve
	<math>
		<mrow><mo>(</mo><mi>n</mi>
		<mfrac><mrow><mo>d</mo><mi>G</mi></mrow><mrow><mo>d</mo><mi>n</mi></mrow></mfrac>
		<mo>=</mo><msup><mi>G</mi><mn>2</mn></msup><mo>+</mo><mi>G</mi>
		<mo>)</mo></mrow>
	</math>
	with a sixth assumption, (6) that the derivative of G can be further
	approximated by the derivative of the linear approximation of G.
</p>
<math style="margin-left: 20%;">
	<mfrac><mrow><mi>L</mi></mrow><msub><mi>R</mi><mi>N</mi></msub></mfrac>
	<mi>A</mi><mi>n</mi><mo>=</mo>
	<msup><mrow><mo>(</mo><mfrac><mi>L</mi><msub><mi>R</mi><mi>N</mi></msub></mfrac>
		<mo>)</mo></mrow><mn>2</mn></msup>
	<msup><mrow><mo>(</mo><mi>A</mi><mi>n</mi><mo>-</mo><mi>T</mi>
		<mo>)</mo></mrow><mn>2</mn></msup>
	<mo>+</mo>
	<mfrac><mi>L</mi><msub><mi>R</mi><mi>N</mi></msub></mfrac>
	<mo>(</mo><mi>A</mi><mi>n</mi><mo>-</mo><mi>T</mi><mo>)</mo>
</math>
<br>
<math style="margin-left: 20%;">
	<mi>T</mi><mfrac><msub><mi>R</mi><mi>N</mi></msub><mi>L</mi></mfrac>
	<mo>=</mo>
	<msup><mrow><mo>(</mo><mi>A</mi><mi>n</mi><mo>-</mo><mi>T</mi><mo>)</mo></mrow><mn>2</mn></msup>
</math>
<br>
<math style="margin-left: 20%;">
	<mi>n</mi><mo>=</mo>
	<mfrac><mrow>
		<mi>T</mi><mo>+</mo><msqrt>
			<mfrac><mrow><msub><mi>R</mi><mi>N</mi></msub><mi>T</mi></mrow><mi>L</mi></mfrac>
		</msqrt>
	</mrow><mrow>
		<mi>c</mi><mi>&omega;</mi><mo>+</mo><mo>(</mo><mn>1</mn><mo>-</mo><mi>&rho;</mi><mo>)</mo>
	</mrow></mfrac>
	<mo>&approx;</mo><mfrac><mn>1</mn><mi>c</mi></mfrac>
	<mrow><mo>(</mo>
		<mi>T</mi><mo>+</mo><msqrt>
			<mfrac><mrow><msub><mi>R</mi><mi>N</mi></msub><mi>T</mi></mrow><mi>L</mi></mfrac>
		</msqrt>
	<mo>)</mo></mrow>
</math>
<p> Qualitatively we see the optimum refinance period (<i>n</i>) grows
	longer with larger refinance fees (<i>T</i>) and lower nominal
	interest rates or longer loan periods (<i>R<sub>N</sub></i>) and
	grows shorter with
	higher leverage ratios (<i>L</i>) and cash-flow ratio (<i>c</i>).
</p>
<p> Since the leverage ratio (<i>L</i>) and cash-flow ratio (<i>c</i>)
	are inversly related in terms of down payment
	and the mortgage months-to-value ratio (<i>R<sub>N</sub></i>) and
	months-of-rent fee (<i>T</i>) are inversly related in terms of loan
	period, options available to the consumer have little impact on
	the optimum refinance period, with the exception of points that
	both lower the interest rate and raise upfront fees. Note this equation
	does not account for interest rates and inflation changing.
</p>
<p> For example for my first two properties, on the one above I chose
	to maximize points on a 30-year mortgage because I though interest rates
	would rise. However on the property below I chose no points and a
	15-year mortgage in hopes that interest rates lower in the next 5 years.
</p>
<img src="property-projection-2.png" style="margin-left:50px;">
<p>	The examples show this simplified quadratic model is usually ok for
	a yield estimate, but it has plenty of room for improvement
	especially at estimating the time.
	The <a href="cardano-tangent.html">next article</a>
	improves upon this quadratic estimate by revisiting assumptions 3-6
	to make the cubic estimate also shown on the examples above.
</p>
<p>	This is useful for improving the calculators but has too much detail
	to gain any insigts. The <a href="#">next interesting article</a> takes
</p>
<hr>
<p> This is the seventh part of a series <a href="index.html">Should
	I Buy or Rent?</a>
</p>
<p> As a powerful argument on the nature of fiat currency, as
	<a href="https://voxeu.org/article/towards-global-narrative-long-term-real-interest-rates">
	real interest rates trend toward zero</a>,
	the optimum period for owning a mortgage liability becomes approximatable
	analytically!
</p>
<img src="combined-yield-summary.png">
<p> The inflation (i) adjusted yield depends on the
	<a href="leverage-ratio.html">leverage ratio</a> (L) and the
	<a href="equity-buildup.html">equity buildup</a> &Sigma;(n)/p,
	and these equation and all the other terms are defined in
	those articles. For here, the combined yield (Y) is composed of two parts,
	the cash flow dividend (X) made each month and an ammortized dividend from
	equity buildup (y) when you sell or refinance.
	These two parts are demonstrated in the graph below.
</p>
<img src="cash-flow-peak-shift.png" width=75%>

<p> To help determine an approximate time for peak yields, there are
	three assumptions we will use.
</p>
<ol>
	<li>Inflation and interest rates are nearly equal.</li>
	<li>Inflation is low enough a first order approximation of the natural log
		holds.</li>
	<li>The leverage ratio is sufficiently large and external yield (X)
		sufficiently flat that the peak net yield (Y) occurs nearly concurrently
		with equity yield (y).
	</li>
</ol>
<h2>Maximizing Equity Yield</h2>
<p> The rate of equity buildup, in inflation back-adjusted terms is:
</p>
<img src="equity-buildup-summary.png">
<p> If we assume real interest rates are zero, or that inflation equals
	the nominal interest rate <span style="white-space:nowrap;">(i = r)</span>,
	then equity buildup becomes linear,
	<span style="white-space:nowrap;">&Sigma;n/p = n</span>, and the first
	intersection point of an "refinance window" can be found quadratically.
	This optimum "window" represents the tangent point for capital gains from
	equity buildup (blue), equivalently compared to regular dividends from stocks
	or rental cash flow (dotted black).
</p>
<img src="refinance-window.png" width="75%">
<h2>Optimum Point Derivation</h2>
<p> To make the algebra easier, we define some helper variables and then
	take the derivative of the equity yield (y) to find its optimum.
</p>
<img src="y-derivative.png">
<p> Setting the derivative equal to zero, substituting n for &Sigma;n/p, and
	assuming g is near 1 to approximate
	<span style="white-space:nowrap;">ln(g) = g - 1</span>
	results in a quadratic equation we can solve.
</p>
<img src="quadratic-point.png">
<p> The long tangent of the last three articles was to reach this
	point. Now the <a href="mortgage-calculator.html">mortgage calculator
	</a> can estimate yields from the loan liability for comparisons to
	stocks or other investments!
</p>

<footer>
<hr>
<a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
	<img alt="Creative Commons License" style="border-width:0"
	src="https://i.creativecommons.org/l/by/4.0/80x15.png"></a>
  Ben Lorenzetti<br>
  This work is licensed under a
<a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative
	Commons Attribution 4.0 International License
</a>.
</footer>
</article>
<nav>
  <ul>
    <li><a href="index.html">Back</a></li>
    <li><a href="../Archive/index.html">Archive</a></li>
		<li><a href="../Privacy-Policy/index.html">Privacy</a></li>
  </ul>
  <div style="clear: both; min-width: 100%; margin: 0px; padding: 0px;"></div>
</nav>
</div><!--article+nav wrapper-->
<footer>
</footer>
</div><!--horizontal centering div-->
</body>
</html>
